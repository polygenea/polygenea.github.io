<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
</head>
<body>
<style type="text/css">
body{font-family:sans-serif; counter-reset:h1;}
code{font-family:monospace;font-size:100%;background-color:#eee;border:1px solid #aaa; padding:1px; border-radius:4px;}
table{border-collapse:collapse;}
tr:nth-child(2n){background-color:#ddd;}
td,th{padding:0.25ex 1ex;}
th{border-bottom:1px solid black;}
</style>



<p><strong>To <code>conceptual-model-specification</code> make the following changes:</strong></p>
<hr />
<p><strong>add to 1.3.3</strong></p>
<blockquote>
<p>A &quot;set&quot; is defined as an unordered collection of data instances containing no duplicate data instances. When a property is defined in terms of a &quot;set&quot;, the data type of the data instances in the set is also provided</p>
<p>An &quot;integer&quot; is defined as an integer numerical value; its storage is not specified, but must be able to store at least all integers between âˆ’1 and 32766, inclusive.</p>
</blockquote>
<hr />
<p><strong>add to 2. a new subsection 2.8, as follows</strong></p>
<p><a name="reasoning"/></p>
<h2 id="the-reasoning-data-type">2.8 the &quot;Reasoning&quot; Data Type</h2>
<p>The <code>Reasoning</code> data type describes the details of a reasoning network used to develop and support the possible version of the past described by the <code>http://gedcomx.org/v1/Conclusion</code>s in the data.</p>
<h3 id="identifier">identifier</h3>
<p>The identifier for the <code>Reasoning</code> data type is</p>
<p><code>http://gedcomx.polygenea.org/v1/Reasoning</code></p>
<h3 id="properties">properties</h3>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">description</th>
<th align="left">data type</th>
<th align="left">constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">subjects</td>
<td align="left">The subjects of study during research</td>
<td align="left">Set of <a href="#subject-node"><code>http://gedcomx.polygenea.org/v1/SubjectNode</code></a>.</td>
<td align="left">OPTIONAL.</td>
</tr>
<tr class="even">
<td align="left">properties</td>
<td align="left">The information about single things encountered during research</td>
<td align="left">Set of <a href="#property"><code>http://gedcomx.polygenea.org/v1/Property</code></a>.</td>
<td align="left">OPTIONAL.</td>
</tr>
<tr class="odd">
<td align="left">connections</td>
<td align="left">The information about pairs things encountered during research</td>
<td align="left">Set of <a href="#connection"><code>http://gedcomx.polygenea.org/v1/Connection</code></a>.</td>
<td align="left">OPTIONAL.</td>
</tr>
<tr class="even">
<td align="left">tags</td>
<td align="left">Metadata asserted about various other claims during research</td>
<td align="left">Set of <a href="#tag"><code>http://gedcomx.polygenea.org/v1/Tag</code></a>.</td>
<td align="left">OPTIONAL.</td>
</tr>
<tr class="odd">
<td align="left">aggregates</td>
<td align="left">Semantically-merged collections of subjects</td>
<td align="left">Set of <a href="#aggregated-subject"><code>http://gedcomx.polygenea.org/v1/AggregatedSubject</code></a>.</td>
<td align="left">OPTIONAL.</td>
</tr>
<tr class="even">
<td align="left">outrefs</td>
<td align="left">Descriptions of external sources in a format suitable for reasoning</td>
<td align="left">Set of <a href="#outref"><code>http://gedcomx.polygenea.org/v1/OutRef</code></a>.</td>
<td align="left">OPTIONAL.</td>
</tr>
<tr class="odd">
<td align="left">derivations</td>
<td align="left">Free-text descriptions of reasoning processes</td>
<td align="left">Set of <a href="#derivation"><code>http://gedcomx.polygenea.org/v1/Derivation</code></a>.</td>
<td align="left">OPTIONAL.</td>
</tr>
<tr class="even">
<td align="left">inferences</td>
<td align="left">Structured descriptions of reasoning processes</td>
<td align="left">Set of <a href="#inference"><code>http://gedcomx.polygenea.org/v1/Inference</code></a>.</td>
<td align="left">OPTIONAL.</td>
</tr>
<tr class="odd">
<td align="left">expectations</td>
<td align="left">Structured descriptions of trends, inference rules, and other guidelines about what a researcher expects to be true</td>
<td align="left">Set of <a href="#expectation"><code>http://gedcomx.polygenea.org/v1/Expectation</code></a>.</td>
<td align="left">OPTIONAL.</td>
</tr>
<tr class="even">
<td align="left">attribution</td>
<td align="left">The attribution of this reasoning.</td>
<td align="left"><code>http://gedcomx.org/Attribution</code></td>
<td align="left">OPTIONAL. If not provided, the attribution of the containing data set (e.g., file) of the <code>Reasoning</code> is assumed.</td>
</tr>
</tbody>
</table>
<h3 id="constraints">constraints</h3>
<p>A single data set SHOULD NOT contain more than a single <code>Reasoning</code> element. If it contains more than one, the <code>id</code> property of the various <code>ReasoningNode</code>s inside each must be unique.</p>
<hr />
<p><strong>Modify section 3.10, subsection &quot;properties&quot;, adding the following row to the table:</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">description</th>
<th align="left">data type</th>
<th align="left">constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">support</td>
<td align="left">The list of references to the reasoning elements that support this conclusion.</td>
<td align="left">Set of <a href="#claim-reference"><code>http://gedcomx.polygenea.org/v1/ClaimReference</code></a>.</td>
<td align="left">OPTIONAL.</td>
</tr>
<tr class="even">
<td align="left">contradiction</td>
<td align="left">The list of references to the reasoning elements that contradict this conclusion.</td>
<td align="left">Set of <a href="#claim-reference"><code>http://gedcomx.polygenea.org/v1/ClaimReference</code></a>.</td>
<td align="left">OPTIONAL.</td>
</tr>
</tbody>
</table>
<hr />
<p><strong>Add to 3. several new subsections, as follows</strong></p>
<p><a name="reasoning-node"/></p>
<h2 id="the-reasoningnode-data-type">3.22 The &quot;ReasoningNode&quot; Data Type</h2>
<p>The <code>ReasoningNode</code> data type defines the abstract concept of a single atomic element in the reasoning process.</p>
<h3 id="identifier-1">identifier</h3>
<p>The identifier for the <code>ReasoningNode</code> data type is:</p>
<p><code>http://gedcomx.polygenea.org/v1/ReasoningNode</code></p>
<h3 id="properties-1">properties</h3>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">description</th>
<th align="left">data type</th>
<th align="left">constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">id</td>
<td align="left">An internal identifier for the data structure holding the reasoning data.</td>
<td align="left">string</td>
<td align="left">REQUIRED. The id is to be used as a &quot;fragment identifier&quot; as defined by <a href="http://tools.ietf.org/html/rfc3986#section-3.5">RFC 3986, Section 3.5</a>. As such, the constraints of the id are provided in the definition of the media type (e.g. XML, JSON) of the data structure.</td>
</tr>
<tr class="even">
<td align="left">attribution</td>
<td align="left">The attribution of this subject.</td>
<td align="left"><code>http://gedcomx.org/Attribution</code></td>
<td align="left">OPTIONAL. If not provided, the attribution of the containing data set (i.e., <code>Reasoning</code>) of the <code>ReasoningNode</code> is assumed.</td>
</tr>
</tbody>
</table>
<p>It is RECOMMENDED that the <code>id</code> of each <code>ReasoningNode</code> be the (lower-case) initial letter of the name of the <code>ReasoningNode</code>s element type (which will be one of {&quot;a&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;i&quot;, &quot;p&quot;, &quot;s&quot;, &quot;t&quot;}), followed by the (non-padded) decimal string representation of 0-based index of the <code>ReasoningNode</code> within its containing element. For example, the second <code>Inference</code> node inside a <code>Reasoning</code> element's <code>inference</code> property would have an <code>id</code> of &quot;i1&quot;.</p>
<p><a name="claim"/></p>
<h2 id="the-claim-data-type">3.23 The &quot;Claim&quot; Data Type</h2>
<p>The <code>Claim</code> data type defines the abstract concept of a research <em>claim</em>, either made by a source or derived by a researcher.</p>
<h3 id="identifier-2">identifier</h3>
<p>The identifier for the <code>Claim</code> data type is:</p>
<p><code>http://gedcomx.polygenea.org/v1/Claim</code></p>
<h3 id="extension">extension</h3>
<p>This data type extends the following data type:</p>
<p><code>http://gedcomx.polygenea.org/v1/ReasoningNode</code></p>
<h3 id="properties-2">properties</h3>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">description</th>
<th align="left">data type</th>
<th align="left">constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">source</td>
<td align="left">The attribution of this subject.</td>
<td align="left">URI</td>
<td align="left">REQUIRED. MUST resolve to an instance of one of the following types: <code>http://gedcomx.org/v1/SourceDescription</code>, <a href="#inference"><code>http://gedcomx.polygenea.org/v1/Inference</code></a>, or <a href="#derivation"><code>http://gedcomx.polygenea.org/v1/Derivation</code></a>.</td>
</tr>
</tbody>
</table>
<p><a name="claim-reference"/></p>
<h2 id="the-claimreference-data-type">3.24 The &quot;ClaimReference&quot; Data Type</h2>
<p>The <code>ClaimReference</code> data type defines a reference to a <a href="#claim"><code>Claim</code></a>.</p>
<h3 id="identifier-3">identifier</h3>
<p>The identifier for the &quot;ClaimReference&quot; data type is:</p>
<p><code>http://gedcomx.polygenea.org/v1/ClaimReference</code></p>
<h3 id="properties-3">properties</h3>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">description</th>
<th align="left">data type</th>
<th align="left">constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">claim</td>
<td align="left">Reference to a <code>Claim</code>.</td>
<td align="left"><a href="#uri">URI</a></td>
<td align="left">REQUIRED. MUST resolve to an instance of <a href="#claim"><code>http://gedcomx.polygenea.org/v1/Claim</code></a>.</td>
</tr>
<tr class="even">
<td align="left">attribution</td>
<td align="left">The attribution of this claim reference.</td>
<td align="left"><code>http://gedcomx.org/Attribution</code></td>
<td align="left">OPTIONAL. If not provided, the attribution of the containing resource of the claim reference is assumed.</td>
</tr>
</tbody>
</table>
<p><a name="subject-node"/></p>
<h2 id="the-subject-node-data-type">3.25 The &quot;Subject Node&quot; Data Type</h2>
<p>The <code>SubjectNode</code> data type defines the abstract concept of a genealogical <em>subject</em> attested by a single source.</p>
<p>The related <code>http://gedcomx.org/v1/Subject</code> data type represents something with unique and intrinsic identity, and only one <code>Subject</code> is expected to exist for any given entity. The <code>http://gedcomx.polygenea.org/v1/SubjectNode</code> data type represents one <code>Subject</code> referenced in one source or one part of one source; there are generally many <code>SubjectNode</code>s for each <code>Subject</code>, one for each reference to that subject known to exist.</p>
<h3 id="identifier-4">identifier</h3>
<p>The identifier for the <code>SubjectNode</code> data type is:</p>
<p><code>http://gedcomx.polygenea.org/v1/SubjectNode</code></p>
<h3 id="extension-1">extension</h3>
<p>This data type extends the following data type:</p>
<p><code>http://gedcomx.polygenea.org/v1/Claim</code></p>
<h3 id="properties-4">properties</h3>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">description</th>
<th align="left">data type</th>
<th align="left">constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">slug</td>
<td align="left">Something to distinguish this subject from other subjects in the same source.</td>
<td align="left">string</td>
<td align="left">REQUIRED.</td>
</tr>
</tbody>
</table>
<p><a name="property"/></p>
<h2 id="the-property-data-type">3.26 The &quot;Property&quot; Data Type</h2>
<p>The <code>Property</code> data type defines a string-valued detail about a <code>ResearchNode</code>, most commonly a <code>SubjectNode</code>.</p>
<p>The <code>http://gedcomx.polygenea.org/v1/Property</code> data type is approximately the research parallal to the <code>http://gedcomx.org/v1/Fact</code> data type in conclusions, but also serves additional purposes, such as identifying the &quot;type&quot; of a <code>SubjectNode</code>.</p>
<h3 id="identifier-5">identifier</h3>
<p>The identifier for the <code>Property</code> data type is:</p>
<p><code>http://gedcomx.polygenea.org/v1/Property</code></p>
<h3 id="extension-2">extension</h3>
<p>This data type extends the following data type:</p>
<p><code>http://gedcomx.polygenea.org/v1/Claim</code></p>
<h3 id="properties-5">properties</h3>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">description</th>
<th align="left">data type</th>
<th align="left">constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">key</td>
<td align="left">Enumerated value identifying the type of property</td>
<td align="left">Enumerated Value</td>
<td align="left">REQUIRED. MUST identify a property type, and use of a <a href="#known-property-types">known property type</a> is RECOMMENDED.</td>
</tr>
<tr class="even">
<td align="left">of</td>
<td align="left">A reference to the <code>ReasoningNode</code> to which this property applies</td>
<td align="left">URI</td>
<td align="left">REQUIRED. MUST resolve to an instance of <a href="#reasoning-node"><code>http://gedcomx.polygenea.org/v1/ReasoningNode</code></a>.</td>
</tr>
<tr class="odd">
<td align="left">value</td>
<td align="left">The value of the property.</td>
<td align="left">string</td>
<td align="left">REQUIRED.</td>
</tr>
</tbody>
</table>
<p><a name="connection"/></p>
<h2 id="the-connection-data-type">3.27 The &quot;Connection&quot; Data Type</h2>
<p>The <code>Connection</code> data type defines a directed pair-wise relationship between two <code>ResearchNode</code>s.</p>
<p>The <code>http://gedcomx.polygenea.org/v1/Connection</code> data type is approximately the research parallal to the <code>http://gedcomx.org/v1/Relationship</code> and <code>http://gedcomx.org/v1/EventRole</code> data types in conclusions; but also serves additional purposes, such as identifying one node as the &quot;update&quot; of another.</p>
<h3 id="identifier-6">identifier</h3>
<p>The identifier for the <code>Connection</code> data type is:</p>
<p><code>http://gedcomx.polygenea.org/v1/Connection</code></p>
<h3 id="extension-3">extension</h3>
<p>This data type extends the following data type:</p>
<p><code>http://gedcomx.polygenea.org/v1/Claim</code></p>
<h3 id="properties-6">properties</h3>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">description</th>
<th align="left">data type</th>
<th align="left">constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">key</td>
<td align="left">Enumerated value identifying the type of connection</td>
<td align="left">Enumerated Value</td>
<td align="left">REQUIRED. MUST identify a connection type, and use of a <a href="#known-connection-types">known connection type</a> is RECOMMENDED.</td>
</tr>
<tr class="even">
<td align="left">of</td>
<td align="left">A reference to the <code>ReasoningNode</code> to which this connection applies</td>
<td align="left">URI</td>
<td align="left">REQUIRED. MUST resolve to an instance of <a href="#reasoning-node"><code>http://gedcomx.polygenea.org/v1/ReasoningNode</code></a>.</td>
</tr>
<tr class="odd">
<td align="left">value</td>
<td align="left">The value of the the connection</td>
<td align="left">URI</td>
<td align="left">REQUIRED. MUST resolve to an instance of <a href="#reasoning-node"><code>http://gedcomx.polygenea.org/v1/ReasoningNode</code></a>.</td>
</tr>
</tbody>
</table>
<p><a name="tag"/></p>
<h2 id="the-tag-data-type">3.28 The &quot;Tag&quot; Data Type</h2>
<p>The <code>Tag</code> data type defines metadata asserted about various other claims during research.</p>
<p>Each tag type has a significantly different meaning; see the list of <a href="#known-tag-types">known tag types</a> for details.</p>
<h3 id="identifier-7">identifier</h3>
<p>The identifier for the <code>Tag</code> data type is:</p>
<p><code>http://gedcomx.polygenea.org/v1/Tag</code></p>
<h3 id="extension-4">extension</h3>
<p>This data type extends the following data type:</p>
<p><code>http://gedcomx.polygenea.org/v1/Claim</code></p>
<h3 id="properties-7">properties</h3>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">description</th>
<th align="left">data type</th>
<th align="left">constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">type</td>
<td align="left">Enumerated value identifying the type of connection</td>
<td align="left">Enumerated Value</td>
<td align="left">REQUIRED. MUST identify a connection type, and use of a <a href="#known-tag-types">known tag type</a> is RECOMMENDED.</td>
</tr>
<tr class="even">
<td align="left">of</td>
<td align="left">A list of references to jointly-tagged <code>ReasoningNode</code>s</td>
<td align="left">List of URI. Order is not preserved</td>
<td align="left">REQUIRED. Each URI MUST resolve to an instance of <a href="#reasoning-node"><code>http://gedcomx.polygenea.org/v1/ReasoningNode</code></a>. Additional constraints may be added for particular tag <code>type</code>s.</td>
</tr>
</tbody>
</table>
<p><a name="aggregated-subject"/></p>
<h2 id="the-aggregated-subject-data-type">3.29 The &quot;Aggregated Subject&quot; Data Type</h2>
<p>The <code>AggregatedSubject</code> data type is a semantic placeholder for the idea &quot;the subject you get if you assume that all of these other subjects are the same&quot;.</p>
<p>Every <code>http://gedcomx.org/v1/Subject</code> that has two or more sources is conceptually an <code>http://gedcomx.polygenea.org/v1/AggregatedSubject</code>.</p>
<h3 id="identifier-8">identifier</h3>
<p>The identifier for the <code>AggregatedSubject</code> data type is:</p>
<p><code>http://gedcomx.polygenea.org/v1/AggregatedSubject</code></p>
<h3 id="extension-5">extension</h3>
<p>This data type extends the following data type:</p>
<p><code>http://gedcomx.polygenea.org/v1/ResearchNode</code></p>
<h3 id="properties-8">properties</h3>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">description</th>
<th align="left">data type</th>
<th align="left">constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">basis</td>
<td align="left">A references to <code>Tag</code> with <code>key</code> &quot;same&quot;</td>
<td align="left">URI</td>
<td align="left">REQUIRED. MUST resolve to an instance of <a href="#tag"><code>http://gedcomx.polygenea.org/v1/Tag</code></a> that has <code>type</code> <code>http://gedcomx.polygenea.org/v1/Tag/same</code>.</td>
</tr>
</tbody>
</table>
<p><a name="derivation"/></p>
<h2 id="the-derivation-data-type">3.30 The &quot;Derivation&quot; Data Type</h2>
<p>The <code>Derivation</code> data type stores free-text descriptions of reasoning processes.</p>
<h3 id="identifier-9">identifier</h3>
<p>The identifier for the <code>Derivation</code> data type is:</p>
<p><code>http://gedcomx.polygenea.org/v1/Derivation</code></p>
<h3 id="extension-6">extension</h3>
<p>This data type extends the following data type:</p>
<p><code>http://gedcomx.polygenea.org/v1/ResearchNode</code></p>
<h3 id="properties-9">properties</h3>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">description</th>
<th align="left">data type</th>
<th align="left">constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">support</td>
<td align="left">A set of references to the antecedents of this derivation</td>
<td align="left">List of URI. Order is not preserved.</td>
<td align="left">REQUIRED. Each URI MUST resolve to an instance of either <a href="#research-node"><code>http://gedcomx.polygenea.org/v1/ResearchNode</code></a> or <code>http://gedcomx.org/v1/SourceDescription</code>.</td>
</tr>
<tr class="even">
<td align="left">reason</td>
<td align="left">The user's explanation of why this derivation works</td>
<td align="left"><code>http://gedcomx.org/TextValue</code></td>
<td align="left">OPTIONAL. If not provided, the reason is assumed to be {&quot;lang&quot;:&quot;en&quot;, &quot;value&quot;:&quot;(undocumented)&quot;}.</td>
</tr>
</tbody>
</table>
<p><a name="inference"/></p>
<h2 id="the-inference-data-type">3.31 The &quot;Inference&quot; Data Type</h2>
<p>The <code>Inference</code> data type stores structured, machine-understandable descriptions of single steps in the reasoning processes.</p>
<h3 id="identifier-10">identifier</h3>
<p>The identifier for the <code>Inference</code> data type is:</p>
<p><code>http://gedcomx.polygenea.org/v1/Inference</code></p>
<h3 id="extension-7">extension</h3>
<p>This data type extends the following data type:</p>
<p><code>http://gedcomx.polygenea.org/v1/ResearchNode</code></p>
<h3 id="properties-10">properties</h3>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">description</th>
<th align="left">data type</th>
<th align="left">constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">support</td>
<td align="left">A list of references to the antecedents of this derivation</td>
<td align="left">List of URI. Order is preserved.</td>
<td align="left">REQUIRED. Each URI MUST resolve to an instance of either <a href="#research-node"><code>http://gedcomx.polygenea.org/v1/ResearchNode</code></a> or <code>http://gedcomx.org/v1/SourceDescription</code>.</td>
</tr>
<tr class="even">
<td align="left">reason</td>
<td align="left">A reference to the <code>Expectation</code> that led to this inference</td>
<td align="left">URI</td>
<td align="left">REQUIRED. MUST resolve to an instance of <code>http://gedcomx.polygenea.org/Expectation</code>. <code>support</code> SHOULD <a href="#inference-matching-algorithm">match</a> the referenced <code>Expectation</code>.</td>
</tr>
</tbody>
</table>
<p><a name="expectation"/></p>
<h2 id="the-expectation-data-type">3.32 The &quot;Expectation&quot; Data Type</h2>
<p>The <code>Expectation</code> data type stores a structured description of a trends, inference rule, or other guidelines about what a researcher expects to be true.</p>
<h3 id="identifier-11">identifier</h3>
<p>The identifier for the <code>Expectation</code> data type is:</p>
<p><code>http://gedcomx.polygenea.org/v1/Expectation</code></p>
<h3 id="extension-8">extension</h3>
<p>This data type extends the following data type:</p>
<p><code>http://gedcomx.polygenea.org/v1/ResearchNode</code></p>
<h3 id="properties-11">properties</h3>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">description</th>
<th align="left">data type</th>
<th align="left">constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">antecedent</td>
<td align="left">A list of <code>NodeQuery</code>s describing what must be true for this <code>Expectation</code> to hold</td>
<td align="left">List of <code>http://gedcomx.polygenea.org/v1/NodeQuery</code>. Order is preserved.</td>
<td align="left">REQUIRED.</td>
</tr>
<tr class="even">
<td align="left">consequent</td>
<td align="left">A list of <code>NodeTemplate</code>s describing what may be inferred if the <code>antecedent</code> is satisfied</td>
<td align="left">List of <code>http://gedcomx.polygenea.org/v1/NodeTemplate</code>. Order is preserved.</td>
<td align="left">REQUIRED.</td>
</tr>
</tbody>
</table>
<p>The <strong>index</strong> of a <code>NodeQuery</code> in its containing <code>Expectation</code> is defined to be the 0-based index of the node in the <code>antecedent</code> list.</p>
<p>The <strong>index</strong> of a <code>NodeTemplate</code> in its containing <code>Expectation</code> is defined to be the 0-based index of the node in the <code>consequent</code> list plus the number of elements in the <code>antecedent</code> list.</p>
<p><a name="outref"/></p>
<h2 id="the-outref-data-type">3.33 The &quot;OutRef&quot; Data Type</h2>
<p>The <code>OutRef</code> data type stores a structured description of a source external to the reasoning itself. It is an approximate parallel of the <code>http://gedcomx.org/v1/SourceCitation</code> element, but organized in a way that supports <code>Expectation</code>s and automated reasoning.</p>
<h3 id="identifier-12">identifier</h3>
<p>The identifier for the <code>OutRef</code> data type is:</p>
<p><code>http://gedcomx.polygenea.org/v1/OutRef</code></p>
<h3 id="extension-9">extension</h3>
<p>This data type extends the following data type:</p>
<p><code>http://gedcomx.polygenea.org/v1/ResearchNode</code></p>
<h3 id="properties-12">properties</h3>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">description</th>
<th align="left">data type</th>
<th align="left">constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">parents</td>
<td align="left">A set of <code>OutRefRef</code>s describing relationships between this <code>OutRef</code> and other <code>OutRef</code>s</td>
<td align="left">List of <a href="#outref-ref"><code>http://gedcomx.polygenea.org/v1/OutRefRef</code></a>. Order is not preserved.</td>
<td align="left">OPTIONAL. If not provided, assumed to be an empty set.</td>
</tr>
<tr class="even">
<td align="left">details</td>
<td align="left">A set of <code>KeyValue</code>s describing individual features of this <code>OutRef</code></td>
<td align="left">List of <a href="#key-val"><code>http://gedcomx.polygenea.org/v1/KeyValue</code></a>. Order is not preserved.</td>
<td align="left">OPTIONAL. If not provided, assumed to be an empty set.</td>
</tr>
</tbody>
</table>
<p><a name="outref-ref"/></p>
<h2 id="the-outrefref-data-type">3.34 The &quot;OutRefRef&quot; Data Type</h2>
<p>The <code>OutRefRef</code> data type stores a named reference to an <code>OutRef</code>. They are used in the <code>parents</code> property of <a href="#outref"><code>OutRef</code></a> nodes.</p>
<h3 id="identifier-13">identifier</h3>
<p>The identifier for the <code>OutRefRef</code> data type is:</p>
<p><code>http://gedcomx.polygenea.org/v1/OutRefRef</code></p>
<h3 id="properties-13">properties</h3>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">description</th>
<th align="left">data type</th>
<th align="left">constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">key</td>
<td align="left">the relationship between to the listed <code>OutRef</code></td>
<td align="left">Enumerated Value</td>
<td align="left">REQUIRED. MUST identify a source relationship type, and use of a <a href="#known-source-relationship-types">known source relationship type</a> is RECOMMENDED.</td>
</tr>
<tr class="even">
<td align="left">value</td>
<td align="left">an <code>OutRef</code>s having this relationship</td>
<td align="left">URI</td>
<td align="left">REQUIRED. MUST resolve to an instance of <a href="#outref"><code>http://gedcomx.polygenea.org/v1/OutRef</code></a>.</td>
</tr>
</tbody>
</table>
<p><a name="key-val"/></p>
<h2 id="the-keyval-data-type">3.35 The &quot;KeyVal&quot; Data Type</h2>
<p>The <code>KeyVal</code> data type stores a generic key:value pair of strings. They are used in the <code>details</code> property of <a href="#outref"><code>OutRef</code></a> nodes.</p>
<h3 id="identifier-14">identifier</h3>
<p>The identifier for the <code>KeyVal</code> data type is:</p>
<p><code>http://gedcomx.polygenea.org/v1/KeyVal</code></p>
<h3 id="properties-14">properties</h3>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">description</th>
<th align="left">data type</th>
<th align="left">constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">key</td>
<td align="left">the topic of this attribute</td>
<td align="left">Enumerated Value</td>
<td align="left">REQUIRED. MUST identify a source detail type, and use of a <a href="#known-source-relationship-types">known source detail type</a> is RECOMMENDED.</td>
</tr>
<tr class="even">
<td align="left">value</td>
<td align="left">the value of this attribute</td>
<td align="left">string</td>
<td align="left">REQUIRED. Constraints on values may be added for particular <code>key</code>s.</td>
</tr>
</tbody>
</table>
<p><a name="key-int"/></p>
<h2 id="the-keyint-data-type">3.36 The &quot;KeyInt&quot; Data Type</h2>
<p>The <code>KeyInt</code> data type stores a key:value pair where the value is an integer. They are used in place of <code>OutRefRef</code> values in <code>OutRefQuery</code> elements.</p>
<h3 id="identifier-15">identifier</h3>
<p>The identifier for the <code>KeyInt</code> data type is:</p>
<p><code>http://gedcomx.polygenea.org/v1/KeyInt</code></p>
<h3 id="properties-15">properties</h3>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">description</th>
<th align="left">data type</th>
<th align="left">constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">key</td>
<td align="left">the relationship between to the listed <code>OutRef</code></td>
<td align="left">Enumerated Value</td>
<td align="left">REQUIRED. MUST identify a source relationship type, and use of a <a href="#known-source-relationship-types">known source relationship type</a> is RECOMMENDED.</td>
</tr>
<tr class="even">
<td align="left">value</td>
<td align="left">an <code>OutRef</code>s having this relationship</td>
<td align="left">integer</td>
<td align="left">REQUIRED. MUST either be <code>-1</code> or a non-negative integer smaller than the index of the containing <code>OutRefQuery</code> within the containing <code>Expectation</code>.</td>
</tr>
</tbody>
</table>
<p><a name="key-predicate"/></p>
<h2 id="the-keypredicate-data-type">3.37 The &quot;KeyPredicate&quot; Data Type</h2>
<p>The <code>KeyPreducate</code> data type stores a generic key:value pair where the value is a <code>StringPredicate</code>. They are used in place of <code>KeyVal</code> values in <code>OutRefQuery</code> elements.</p>
<h3 id="identifier-16">identifier</h3>
<p>The identifier for the <code>KeyPredicate</code> data type is:</p>
<p><code>http://gedcomx.polygenea.org/v1/KeyPredicate</code></p>
<h3 id="properties-16">properties</h3>
<table>
<thead>
<tr class="header">
<th align="left">name</th>
<th align="left">description</th>
<th align="left">data type</th>
<th align="left">constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">key</td>
<td align="left">the topic of this attribute</td>
<td align="left">Enumerated Value</td>
<td align="left">REQUIRED. MUST identify a source detail type, and use of a <a href="#known-source-relationship-types">known source detail type</a> is RECOMMENDED.</td>
</tr>
<tr class="even">
<td align="left">value</td>
<td align="left">the value of this attribute</td>
<td align="left"><code>StringPredicate</code></td>
<td align="left">REQUIRED.</td>
</tr>
</tbody>
</table>
<hr />
<p><a name="predicate"/></p>
<h2 id="the-predicate-data-type-and-subtypes">3.22 The &quot;Predicate&quot; Data Type and Subtypes</h2>
<p>The <code>Predicate</code> data type defines the abstract concept of a function that accepts some inputs and rejects others.</p>
<h3 id="identifier-17">identifier</h3>
<p>The identifier for the <code>Predicate</code> data type is:</p>
<p><code>http://gedcomx.polygenea.org/v1/Predicate</code></p>
<p>In the table of predicate subtypes, the &quot;name&quot; column defines a suffix to the <code>Predicate</code> identifier; the full identifier for a subtype can be constructed as <code>http://gedcomx.polygenea.org/v1/Predicate/</code> concatenated with the value in the &quot;name&quot; column.</p>
<h3 id="subtypes">subtypes</h3>
<p>There are many subtypes of <code>Predicate</code>, collectively listed in the following table.</p>
<p>name | description | properties | constraints <code>Top</code> | always true | | <code>LitString</code> | true for a single value only | <code>x</code>, a string | MapHas | REQUIRED | set of string â†¦ datum pairs | <em>x</em>, a set of string â†¦ (datum predicate) pairs | for each (<em>a</em> â†¦ <em>b</em>) in <em>x</em>, there is a (<em>c</em> â†¦ <em>d</em>) pair in <em>v</em> such that <em>a</em> equals <em>c</em> and <em>b</em>(<em>d</em>) is <code>true</code> Same | RECOMMENDED | any | <em>i</em>, an integer<br/><em>j</em>, an integer | <em>v</em> equals the <em>j</em>th value of the <em>i</em>th tuple in <em>s</em> Has | RECOMMENDED | set or list of <em>X</em> | <em>f</em>, an <em>X</em> predicate | <em>f</em>(<em>e</em>, <em>s</em>) is <code>true</code> for any <em>e</em> in <em>v</em> SetHas | RECOMMENDED | set of <em>X</em> | <em>x</em>, a set of <em>X</em> predicates | for each <em>f</em> in <em>x</em> there is a <em>e</em> in <em>v</em> such that <em>f</em>(<em>e</em>, <em>s</em>) is <code>true</code> Cmp | OPTIONAL | either string or datum with a media type that has defined order | <em>âˆ™</em>, an operator from the set {<code>&lt;</code>, <code>â‰¤</code>, <code>=</code>, <code>â‰ </code>, <code>â‰¥</code>, <code>&gt;</code>}<br/><em>x</em>, a value of the same type as the predicate | for a datum: <em>v</em> âˆ™ <em>x</em> under the media type's defined ordering<br/>for a string: <em>v</em> âˆ™ <em>x</em> under a lexicographical ordering ICmp | OPTIONAL | as <code>Cmp</code> | <em>âˆ™</em>, an operator from the set {<code>&lt;</code>, <code>â‰¤</code>, <code>=</code>, <code>â‰ </code>, <code>â‰¥</code>, <code>&gt;</code>}<br/><em>i</em>, an integer<br/><em>j</em>, an integer | as <code>Cmp</code>, but using the <em>j</em>th value of the <em>i</em>th tuple in <em>s</em> instead of <em>v</em> Regex | OPTIONAL | string | <em>r</em>, a regex | <em>r</em> matches <em>v</em> Len | OPTIONAL | set or list | <em>âˆ™</em>, an operator from the set {<code>&lt;</code>, <code>â‰¤</code>, <code>=</code>, <code>â‰ </code>, <code>â‰¥</code>, <code>&gt;</code>}<br/><em>x</em>, an integer | ((the number of elements in <em>v</em>) âˆ™ <em>x</em>) is <code>true</code> And | OPTIONAL | any (call it <em>X</em>) | <em>x</em>, a set of <em>X</em> predicates | <em>f</em>(<em>v</em>, <em>s</em>) is <code>true</code> for all <em>f</em> in <em>x</em> Or | OPTIONAL | any (call it <em>X</em>) | <em>x</em>, a set of <em>X</em> predicates | <em>f</em>(<em>v</em>, <em>s</em>) is <code>true</code> for at least one <em>f</em> in <em>x</em> Not | OPTIONAL | any (call it <em>X</em>) | <em>f</em>, an <em>X</em> predicate | <em>f</em>(<em>v</em>, <em>s</em>) is <code>false</code> Script | OPTIONAL | any | <em>x</em>, a datum defining a single function in some programming language | evaluating the function in <em>x</em> with arguments <em>v</em> and <em>s</em> returns <code>true</code></p>
<p><a name="producer"/></p>
<h2 id="the-producer-data-type-and-subtypes">3.23 The &quot;Producer&quot; Data Type and Subtypes</h2>
<p>The <code>Predicate</code> data type defines the abstract concept of a function that produces a value of a particular type.</p>
<h3 id="identifier-18">identifier</h3>
<p>The identifier for the <code>Producers</code> data type is:</p>
<p><code>http://gedcomx.polygenea.org/v1/Producer</code></p>
<p>In the table of producer subtypes, the &quot;name&quot; column defines a suffix to the <code>Producer</code> identifier; the full identifier for a subtype can be constructed as <code>http://gedcomx.polygenea.org/v1/Producer/</code> concatenated with the value in the &quot;name&quot; column.</p>
<h3 id="subtypes-1">subtypes</h3>
<p>There are many subtypes of <code>Producer</code>, collectively listed in the following table.</p>
<p>name | description | properties | constraints Lit | REQUIRED | any | <em>x</em>, a value of the same type as the producer | <em>x</em> Lookup | RECOMMENDED | any | <em>i</em>, an integer<br/><em>j</em>, an integer | the <em>j</em>th value of the <em>i</em>th tuple in <em>s</em> Match | OPTIONAL | string | <em>f</em>, a string producer<br/><em>r</em>, a regex<br/><em>i</em>, an integer | the contents of the <em>i</em>th matching group after matching <em>f</em>(<em>s</em>) with <em>r</em>, or the empty string if it does not match or the match has no such group Slice | OPTIONAL | string or list | <em>f</em>, a string or list producer<br/><em>i</em>, an integer<br/><em>j</em>, an integer | the zero-indexed subsequence of <em>f</em>(<em>s</em>) from <em>i</em> (inclusive) to <em>j</em> (exclusive).<br/>Negative indices have the length of the sequence added to them before dereferencing;<br/>out-of-bounds indices are clamped to bounds; and<br/>negative-width subsequences return the empty sequence Cat | OPTIONAL | string or list | <em>x</em>, a list of string or list producers | the sequence produced by concatenating the sequenced returned by each elements of <em>x</em> in order Union | OPTIONAL | set | <em>x</em>, a set of set producers | a set containing every value contained in any of the sets produced by each of the elements of <em>x</em> Intersect | OPTIONAL | set | <em>x</em>, a set of set producers | a set containing those values that are in every set produced by each element of <em>x</em> Script | OPTIONAL | any | <em>x</em>, a datum defining a single function in some programming language | the value returned when evaluating the function in <em>x</em> with argument <em>s</em></p>
<p><a name="node-template"/></p>
<h2 id="the-nodetemplate-data-type">3.33 The &quot;NodeTemplate&quot; Data Type</h2>
<p>The <code>NodeTemplate</code> data type describes how to construct a node given some context.</p>
<h3 id="identifier-19">identifier</h3>
<p>The identifier for the <code>NodeTemplate</code> data type is:</p>
<p><code>http://gedcomx.polygenea.org/v1/NodeTemplate</code></p>
<h3 id="extension-10">extension</h3>
<p>For every concrete node type named <em>X</em> extending <code>Claim</code>, there is a concrete node type named <em>X</em><code>Template</code> extending <code>NodeTemplate</code>.</p>
<h3 id="properties-17">properties</h3>
<p>None; in particular, <code>NodeTemplate</code> (and hence its extension nodes) does not have either an <code>attribution</code> nor a <code>source</code> property.</p>
<p>Nodes that extend <code>NodeTemplate</code> MUST use type <code>int</code> instead of type <code>URI</code> anywhere type <code>URI</code> is required for the corresponding type that extends <code>Claim</code>. The integer values MUST be strictly smaller than the index of the <code>NodeTemplate</code> in its containing <code>Expectation</code> and MUST be greater than or equal to 0.</p>
<p>Nodes that extend <code>NodeTemplate</code> MAY use a function type as the value of a string or <strong>FIXME</strong>: <em>as will be described later</em></p>
<table>
<thead>
<tr class="header">
<th align="left"><code>NodeTemplate</code> subtype</th>
<th align="left">Properties<br/>index. name : type</th>
<th align="left">Constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">SubjectTemplate</td>
<td align="left">0. <code>slug</code> : string producer</td>
</tr>
<tr class="even">
<td align="left">PropertyQuery</td>
<td align="left">0. <code>key</code> : string producer <br/>1. <code>of</code> : int<br/>2. <code>value</code> : string producer</td>
</tr>
<tr class="odd">
<td align="left">ConnectionQuery</td>
<td align="left">0. <code>key</code> : string producer <br/>1. <code>of</code> : int<br/>2. <code>value</code> : int</td>
</tr>
<tr class="even">
<td align="left">TagQuery</td>
<td align="left">0. <code>key</code> : string producers <br/>1. <code>of</code> : int</td>
</tr>
</tbody>
</table>
<p><a name="node-query"/></p>
<h2 id="the-nodequery-data-type">3.34 The &quot;NodeQuery&quot; Data Type</h2>
<p>The <code>NodeQuery</code> data type describes an acceptable set of nodes.</p>
<h3 id="identifier-20">identifier</h3>
<p>The identifier for the <code>NodeQuery</code> data type is:</p>
<p><code>http://gedcomx.polygenea.org/v1/NodeQuery</code></p>
<h3 id="extension-11">extension</h3>
<p>For every node type named <em>X</em> extending <code>ResearchNode</code>, there is a concrete node type named <em>X</em><code>Template</code> extending <code>NodeQuery</code>.</p>
<h3 id="properties-18">properties</h3>
<p>As per <code>ResearchNode</code> and its subtypes, except as noted below.</p>
<p>Nodes that extend <code>NodeQuery</code> MUST use type <code>int</code> instead of type <code>URI</code> anywhere type <code>URI</code> is required for the corresponding type that extends <code>Claim</code>. The integer values MUST be strictly smaller than the index of the <code>NodeQuery</code> in its containing <code>Expectation</code> and must be greater than or equal to âˆ’1.</p>
<p>Nodes that extend <code>NodeQuery</code> MAY use a predicate type <strong>FIXME</strong>: <em>as will be described later</em></p>
<table>
<thead>
<tr class="header">
<th align="left"><code>NodeQuery</code> subtype</th>
<th align="left">Properties<br/>index. name : type</th>
<th align="left">Constraints</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">SubjectQuery</td>
<td align="left">0. <code>slug</code> : string predicate <br/>1. <code>source</code> : int</td>
<td align="left"><code>slug</code>'s value MUST be <em>Top</em></td>
</tr>
<tr class="even">
<td align="left">PropertyQuery</td>
<td align="left">0. <code>key</code> : string predicate <br/>1. <code>of</code> : int<br/>2. <code>value</code> : string predicate<br/>3. <code>source</code> : int</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">ConnectionQuery</td>
<td align="left">0. <code>key</code> : string predicate <br/>1. <code>of</code> : int<br/>2. <code>value</code> : int<br/>3. <code>source</code> : int</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">TagQuery</td>
<td align="left">0. <code>key</code> : string predicate <br/>1. <code>of</code> : int<br/>2. <code>source</code> : int</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">OutRefQuery</td>
<td align="left">0. <code>parents</code> : set of (string, int) pairs<br/>1. <code>details</code> : set of (string, string predicate) pairs</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">DerivationQuery</td>
<td align="left">0. <code>support</code> : set of ints<br/>1. <code>reason</code> : string predicate</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">ExpectationQuery</td>
<td align="left"><em>exactly the same a Expectation</em></td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">InferenceQuery</td>
<td align="left">0. <code>support</code> : set of ints<br/>1. <code>reason</code> : int</td>
<td align="left"></td>
</tr>
</tbody>
</table>
</body>
</html>
